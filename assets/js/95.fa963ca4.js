(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{450:function(v,_,p){"use strict";p.r(_);var e=p(42),t=Object(e.a)({},(function(){var v=this,_=v.$createElement,p=v._self._c||_;return p("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[p("h1",{attrs:{id:"附录"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#附录"}},[v._v("#")]),v._v(" 附录")]),v._v(" "),p("p",[v._v("磁盘")]),v._v(" "),p("ol",[p("li",[v._v("寻址 ms")]),v._v(" "),p("li",[v._v("带宽 G/M")])]),v._v(" "),p("p",[v._v("内存")]),v._v(" "),p("ol",[p("li",[v._v("寻址 ns")])]),v._v(" "),p("p",[v._v("s > ms > us > ns")]),v._v(" "),p("p",[v._v("结论：内存比磁盘寻址上快10w倍")]),v._v(" "),p("p",[v._v("磁盘：磁道、扇区，一个扇区512Byte带来一个成本变大，索引")]),v._v(" "),p("p",[v._v("操作系统无论你读多少，都是最少4K从磁盘拿")]),v._v(" "),p("p",[v._v("java 随着文件变大 查询速度变慢 为什么？")]),v._v(" "),p("p",[v._v("磁盘IO成为瓶颈")]),v._v(" "),p("p",[v._v("数据库的出现")]),v._v(" "),p("p",[v._v("有无数个 data page 4K，是按顺序存放的，但是读取数据的时候还是要从第一个4K读，还是走全量的IO，要想听声效率就需要索引，索引变相来说也是数据。")]),v._v(" "),p("p",[v._v("关系型数据库建表：必须给出schema，一共有多少列，什么类型，约束关系")]),v._v(" "),p("p",[v._v("类型：字节宽度，如varchar(20)就开辟20个字节")]),v._v(" "),p("p",[v._v("插入一条数据，这条数据中即使有字段没值也会开辟内存空间，好处是存的时候倾向于行级存储，以后在补充其它字段的时候不用移动数据，只需要覆写即可。")]),v._v(" "),p("p",[v._v("数据和索引都是存在硬盘当中的，真正查的时候要在内存中准备一个B+树，B+树的树干是在内存中的，当sql的where条件命中了索引，B+树就会将索引从磁盘读到内存，再根据索引找到具体的数据读到内存。")]),v._v(" "),p("p",[v._v("数据库表很大的时候性能下降？")]),v._v(" "),p("ol",[p("li",[p("p",[v._v("如果表有索引，增删改变慢")])]),v._v(" "),p("li",[p("p",[v._v("查询速度：1个或少量依旧很快，并发大的时候会受磁盘带宽影响速度")])])]),v._v(" "),p("p",[v._v("数据库排名网站")]),v._v(" "),p("p",[v._v("https://db-engines.com/en/")]),v._v(" "),p("p",[v._v("kernel")]),v._v(" "),p("p",[v._v("VFS 目录树")]),v._v(" "),p("p",[v._v("FD 文件描述符")]),v._v(" "),p("p",[v._v("inode id")]),v._v(" "),p("p",[v._v("pagecache 页缓存 默认4k大小")]),v._v(" "),p("p",[v._v("dirty 脏 （修改过的pagecache被标记为dirty）")]),v._v(" "),p("p",[v._v("flush")])])}),[],!1,null,null,null);_.default=t.exports}}]);