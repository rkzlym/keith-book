# 队列

队列是一个有序列表，可以用数组或链表实现，遵循先进先出原则

## 环形队列

数组实现环形队列：尾索引的下一个为头索引时表示队列满

```java
class CircleQueue{
    private int maxSize;
    private int front;
    private int rear;
    private int arr[];

    public CircleQueue(int maxSize){
        this.maxSize = maxSize;
        arr = new int[maxSize];
    }

    public boolean isFull(){
        return (rear + 1) % maxSize == front;
    }

    public boolean isEmpty(){
        return rear == front;
    }

    public void add(int n){
        if (isFull())
            throw new UnsupportedOperationException("cannot add element to full queue");
        arr[rear] = n;
        rear = (rear + 1) % maxSize;
    }

    public int poll(){
        if (isEmpty())
            throw new UnsupportedOperationException("cannot poll element to empty queue");
        int value = arr[front];
        front = (front + 1) % maxSize;
        return value;
    }

    public void showAll(){
        for (int i = front; i < front + size(); i++){
            System.out.printf("arr[%d] = %d\n", i % maxSize, arr[i % maxSize]);
        }
    }

    public int size() {
        return (rear - front + maxSize) % maxSize;
    }
}

public static void main(String[] args) {
    CircleQueue queue = new CircleQueue(4);
    queue.add(1);
    queue.add(2);
    queue.add(3);
    queue.showAll();
    System.out.println();
    queue.poll();
    queue.showAll();
    System.out.println();
    queue.add(4);
    queue.showAll();
    System.out.println();
    queue.poll();
    queue.showAll();
    System.out.println();
    queue.add(5);
    queue.showAll();
}
```
