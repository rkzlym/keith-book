(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{371:function(s,t,a){"use strict";a.r(t);var e=a(42),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"docker安装jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker安装jenkins"}},[s._v("#")]),s._v(" Docker安装Jenkins")]),s._v(" "),a("h2",{attrs:{id:"_1-拉取jenkins镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-拉取jenkins镜像"}},[s._v("#")]),s._v(" 1. 拉取Jenkins镜像")]),s._v(" "),a("p",[s._v("官方推荐使用的镜像是jenkinsci/blueocean，该镜像包含当前的长期支持 (LTS) 的 Jenkins 版本 (可以生产使用) ，并捆绑了所有 Blue Ocean 插件和功能。")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker pull jenkinsci/blueocean\n")])])]),a("h2",{attrs:{id:"_2-安装jenkins镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装jenkins镜像"}},[s._v("#")]),s._v(" 2.安装Jenkins镜像")]),s._v(" "),a("p",[s._v("需要修改下目录权限, 因为当映射本地数据卷时，/docker/jenkins目录的拥有者为root用户，而容器中jenkins user的uid为1000\n执行如下命令即可：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chown -R 1000:1000 /docker/jenkins\n")])])]),a("p",[s._v("修改完权限后执行下面命令")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker run \\\n  --name jenkins \\\n  -d \\\n  -p 8000:8080 \\\n  -p 50000:50000 \\\n  -v /docker/jenkins:/var/jenkins_home \\\n  jenkinsci/blueocean\n")])])]),a("h2",{attrs:{id:"_3-配置jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置jenkins"}},[s._v("#")]),s._v(" 3. 配置Jenkins")]),s._v(" "),a("p",[s._v("输入地址+端口即可访问Jenkins页面，第一次进入需等待一段时间。")]),s._v(" "),a("ol",[a("li",[s._v("输入jenkins配置文件中的密码解锁jenkins")]),s._v(" "),a("li",[s._v("安装插件")]),s._v(" "),a("li",[s._v("配置用户")]),s._v(" "),a("li",[s._v("登录")])]),s._v(" "),a("p",[s._v("最终来到如下页面\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201207161502504.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),s._v(" "),a("h4",{attrs:{id:"_4-配置maven、jdk、git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置maven、jdk、git"}},[s._v("#")]),s._v(" 4. 配置maven、jdk、git")]),s._v(" "),a("ol",[a("li",[s._v("在插件管理中安装 Maven Integration\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201207163740787.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),s._v(" "),a("li",[s._v("进入容器查询jdk和git的路径")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 进入容器\ndocker exec -it jenkins /bin/bash\n# 获取jdk的路径\necho $JAVA_HOME\n# 获取git的路径\nwhich git\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("配置路径")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201207164556405.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}}),s._v("\n4. 配置maven为自动安装\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201207172617230.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),s._v(" "),a("h4",{attrs:{id:"_5-构建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-构建项目"}},[s._v("#")]),s._v(" 5. 构建项目")]),s._v(" "),a("ol",[a("li",[s._v("选择构建一个maven项目\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201207172653866.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),s._v(" "),a("li",[s._v("在源码管理中输入自己的git项目地址，并选择分支\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201207172803890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),s._v(" "),a("li",[s._v("点击构建\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201207173051339.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),s._v(" "),a("li",[s._v("完成\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201207173113825.png",alt:"在这里插入图片描述"}})])])])}),[],!1,null,null,null);t.default=n.exports}}]);