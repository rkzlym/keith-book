<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker安装Jenkins | 鸿鹄笔记</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" content="/favicon.ico">
    <meta name="description" content="鸿鹄的个人笔记">
    <meta rel="author" content="Keith">
    
    <link rel="preload" href="/keith-book/assets/css/0.styles.4ab93e88.css" as="style"><link rel="preload" href="/keith-book/assets/js/app.d67b9f64.js" as="script"><link rel="preload" href="/keith-book/assets/js/2.fcfe50f7.js" as="script"><link rel="preload" href="/keith-book/assets/js/20.25e676d4.js" as="script"><link rel="prefetch" href="/keith-book/assets/js/10.b3815f97.js"><link rel="prefetch" href="/keith-book/assets/js/11.e8438880.js"><link rel="prefetch" href="/keith-book/assets/js/12.3c43c841.js"><link rel="prefetch" href="/keith-book/assets/js/13.6c7d68e5.js"><link rel="prefetch" href="/keith-book/assets/js/14.af05f664.js"><link rel="prefetch" href="/keith-book/assets/js/15.181f2213.js"><link rel="prefetch" href="/keith-book/assets/js/16.8cdd1f67.js"><link rel="prefetch" href="/keith-book/assets/js/17.ba12e355.js"><link rel="prefetch" href="/keith-book/assets/js/18.1eab7989.js"><link rel="prefetch" href="/keith-book/assets/js/19.9ee26cd7.js"><link rel="prefetch" href="/keith-book/assets/js/21.d0929e93.js"><link rel="prefetch" href="/keith-book/assets/js/22.a739b9ef.js"><link rel="prefetch" href="/keith-book/assets/js/23.3702aca2.js"><link rel="prefetch" href="/keith-book/assets/js/24.100bf28c.js"><link rel="prefetch" href="/keith-book/assets/js/25.c68d9f19.js"><link rel="prefetch" href="/keith-book/assets/js/26.d2de66f8.js"><link rel="prefetch" href="/keith-book/assets/js/27.b54bc3c3.js"><link rel="prefetch" href="/keith-book/assets/js/3.ee7ffdbc.js"><link rel="prefetch" href="/keith-book/assets/js/4.09fd2c39.js"><link rel="prefetch" href="/keith-book/assets/js/5.fc791712.js"><link rel="prefetch" href="/keith-book/assets/js/6.ffe6f60a.js"><link rel="prefetch" href="/keith-book/assets/js/7.b4e343ac.js"><link rel="prefetch" href="/keith-book/assets/js/8.358a0977.js"><link rel="prefetch" href="/keith-book/assets/js/9.6e6389ac.js">
    <link rel="stylesheet" href="/keith-book/assets/css/0.styles.4ab93e88.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/keith-book/" class="home-link router-link-active"><img src="/keith-book/favicon.ico" alt="鸿鹄笔记" class="logo"> <span class="site-name can-hide">鸿鹄笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/keith-book/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/keith-book/linux/" class="nav-link router-link-active">
  Linux
</a></div><div class="nav-item"><a href="/keith-book/java/" class="nav-link">
  Java
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/keith-book/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/keith-book/linux/" class="nav-link router-link-active">
  Linux
</a></div><div class="nav-item"><a href="/keith-book/java/" class="nav-link">
  Java
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/keith-book/linux/docker/" class="sidebar-heading clickable router-link-active open"><span>Docker</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/keith-book/linux/docker/Docker基本操作.html" class="sidebar-link">Docker基本操作</a></li><li><a href="/keith-book/linux/docker/Docker安装Redis.html" class="sidebar-link">Docker安装Redis</a></li><li><a href="/keith-book/linux/docker/Docker安装Nginx.html" class="sidebar-link">Docker安装Nginx</a></li><li><a href="/keith-book/linux/docker/Docker安装Mysql.html" class="sidebar-link">Docker安装Mysql</a></li><li><a href="/keith-book/linux/docker/Docker安装Jenkins.html" class="active sidebar-link">Docker安装Jenkins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/keith-book/linux/docker/Docker安装Jenkins.html#_1-拉取jenkins镜像" class="sidebar-link">1. 拉取Jenkins镜像</a></li><li class="sidebar-sub-header"><a href="/keith-book/linux/docker/Docker安装Jenkins.html#_2-安装jenkins镜像" class="sidebar-link">2.安装Jenkins镜像</a></li><li class="sidebar-sub-header"><a href="/keith-book/linux/docker/Docker安装Jenkins.html#_3-配置jenkins" class="sidebar-link">3. 配置Jenkins</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/keith-book/linux/test/" class="sidebar-heading clickable"><span>Test</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/keith-book/linux/test/test1.html" class="sidebar-link">test1</a></li><li><a href="/keith-book/linux/test/test2.html" class="sidebar-link">test2</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="docker安装jenkins"><a href="#docker安装jenkins" class="header-anchor">#</a> Docker安装Jenkins</h1> <h2 id="_1-拉取jenkins镜像"><a href="#_1-拉取jenkins镜像" class="header-anchor">#</a> 1. 拉取Jenkins镜像</h2> <p>官方推荐使用的镜像是jenkinsci/blueocean，该镜像包含当前的长期支持 (LTS) 的 Jenkins 版本 (可以生产使用) ，并捆绑了所有 Blue Ocean 插件和功能。</p> <div class="language- extra-class"><pre class="language-text"><code>docker pull jenkinsci/blueocean
</code></pre></div><h2 id="_2-安装jenkins镜像"><a href="#_2-安装jenkins镜像" class="header-anchor">#</a> 2.安装Jenkins镜像</h2> <p>需要修改下目录权限, 因为当映射本地数据卷时，/docker/jenkins目录的拥有者为root用户，而容器中jenkins user的uid为1000
执行如下命令即可：</p> <div class="language- extra-class"><pre class="language-text"><code>chown -R 1000:1000 /docker/jenkins
</code></pre></div><p>修改完权限后执行下面命令</p> <div class="language- extra-class"><pre class="language-text"><code>docker run \
  --name jenkins \
  -d \
  -p 8000:8080 \
  -p 50000:50000 \
  -v /docker/jenkins:/var/jenkins_home \
  jenkinsci/blueocean
</code></pre></div><h2 id="_3-配置jenkins"><a href="#_3-配置jenkins" class="header-anchor">#</a> 3. 配置Jenkins</h2> <p>输入地址+端口即可访问Jenkins页面，第一次进入需等待一段时间。</p> <ol><li>输入jenkins配置文件中的密码解锁jenkins</li> <li>安装插件</li> <li>配置用户</li> <li>登录</li></ol> <p>最终来到如下页面
<img src="https://img-blog.csdnimg.cn/20201207161502504.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> <h4 id="_4-配置maven、jdk、git"><a href="#_4-配置maven、jdk、git" class="header-anchor">#</a> 4. 配置maven、jdk、git</h4> <ol><li>在插件管理中安装 Maven Integration
<img src="https://img-blog.csdnimg.cn/20201207163740787.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li> <li>进入容器查询jdk和git的路径</li></ol> <div class="language- extra-class"><pre class="language-text"><code># 进入容器
docker exec -it jenkins /bin/bash
# 获取jdk的路径
echo $JAVA_HOME
# 获取git的路径
which git
</code></pre></div><ol start="3"><li>配置路径</li></ol> <p><img src="https://img-blog.csdnimg.cn/20201207164556405.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">
4. 配置maven为自动安装
<img src="https://img-blog.csdnimg.cn/20201207172617230.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> <h4 id="_5-构建项目"><a href="#_5-构建项目" class="header-anchor">#</a> 5. 构建项目</h4> <ol><li>选择构建一个maven项目
<img src="https://img-blog.csdnimg.cn/20201207172653866.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li> <li>在源码管理中输入自己的git项目地址，并选择分支
<img src="https://img-blog.csdnimg.cn/20201207172803890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li> <li>点击构建
<img src="https://img-blog.csdnimg.cn/20201207173051339.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMzAyNg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li> <li>完成
<img src="https://img-blog.csdnimg.cn/20201207173113825.png" alt="在这里插入图片描述"></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/13/2020, 11:57:30 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/keith-book/linux/docker/Docker安装Mysql.html" class="prev">
        Docker安装Mysql
      </a></span> <span class="next"><a href="/keith-book/linux/test/test1.html">
        test1
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/keith-book/assets/js/app.d67b9f64.js" defer></script><script src="/keith-book/assets/js/2.fcfe50f7.js" defer></script><script src="/keith-book/assets/js/20.25e676d4.js" defer></script>
  </body>
</html>
