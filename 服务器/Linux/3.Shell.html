<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shell | 鸿鹄笔记</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" content="/favicon.ico">
    <meta name="description" content="鸿鹄的个人笔记">
    <meta rel="author" content="Keith">
    
    <link rel="preload" href="/keith-book/assets/css/0.styles.86c07c9d.css" as="style"><link rel="preload" href="/keith-book/assets/js/app.7ae60ab7.js" as="script"><link rel="preload" href="/keith-book/assets/js/2.044773f5.js" as="script"><link rel="preload" href="/keith-book/assets/js/89.9a1ee5e4.js" as="script"><link rel="prefetch" href="/keith-book/assets/js/10.13f771ae.js"><link rel="prefetch" href="/keith-book/assets/js/100.af11b532.js"><link rel="prefetch" href="/keith-book/assets/js/101.b5e393e3.js"><link rel="prefetch" href="/keith-book/assets/js/102.7a7d2386.js"><link rel="prefetch" href="/keith-book/assets/js/103.4b5c8925.js"><link rel="prefetch" href="/keith-book/assets/js/104.8c63d13c.js"><link rel="prefetch" href="/keith-book/assets/js/105.2bfbf884.js"><link rel="prefetch" href="/keith-book/assets/js/106.47faa20d.js"><link rel="prefetch" href="/keith-book/assets/js/107.9ad2a314.js"><link rel="prefetch" href="/keith-book/assets/js/108.008b5fa7.js"><link rel="prefetch" href="/keith-book/assets/js/109.62761423.js"><link rel="prefetch" href="/keith-book/assets/js/11.a6a3b5c9.js"><link rel="prefetch" href="/keith-book/assets/js/110.8afb8e61.js"><link rel="prefetch" href="/keith-book/assets/js/111.57012fed.js"><link rel="prefetch" href="/keith-book/assets/js/112.535b424f.js"><link rel="prefetch" href="/keith-book/assets/js/113.c23530b0.js"><link rel="prefetch" href="/keith-book/assets/js/114.834b12cd.js"><link rel="prefetch" href="/keith-book/assets/js/115.ce1b3169.js"><link rel="prefetch" href="/keith-book/assets/js/116.65b1520c.js"><link rel="prefetch" href="/keith-book/assets/js/117.fd80cfe9.js"><link rel="prefetch" href="/keith-book/assets/js/118.f05a98aa.js"><link rel="prefetch" href="/keith-book/assets/js/119.4cea8196.js"><link rel="prefetch" href="/keith-book/assets/js/12.42246af7.js"><link rel="prefetch" href="/keith-book/assets/js/120.275abc51.js"><link rel="prefetch" href="/keith-book/assets/js/121.0a4ec53d.js"><link rel="prefetch" href="/keith-book/assets/js/122.aebc3a0f.js"><link rel="prefetch" href="/keith-book/assets/js/123.a9c61bf2.js"><link rel="prefetch" href="/keith-book/assets/js/124.54f656c9.js"><link rel="prefetch" href="/keith-book/assets/js/125.554faf7e.js"><link rel="prefetch" href="/keith-book/assets/js/126.88f70416.js"><link rel="prefetch" href="/keith-book/assets/js/127.7aeb22c3.js"><link rel="prefetch" href="/keith-book/assets/js/128.5e8f8a6c.js"><link rel="prefetch" href="/keith-book/assets/js/129.d96c386d.js"><link rel="prefetch" href="/keith-book/assets/js/13.614d862e.js"><link rel="prefetch" href="/keith-book/assets/js/14.d938dc50.js"><link rel="prefetch" href="/keith-book/assets/js/15.27956206.js"><link rel="prefetch" href="/keith-book/assets/js/16.8259d213.js"><link rel="prefetch" href="/keith-book/assets/js/17.59fccf41.js"><link rel="prefetch" href="/keith-book/assets/js/18.1ae9a1fd.js"><link rel="prefetch" href="/keith-book/assets/js/19.3f56180c.js"><link rel="prefetch" href="/keith-book/assets/js/20.a6a8e2d9.js"><link rel="prefetch" href="/keith-book/assets/js/21.fa3c5532.js"><link rel="prefetch" href="/keith-book/assets/js/22.8c3384e6.js"><link rel="prefetch" href="/keith-book/assets/js/23.8ea8dbc6.js"><link rel="prefetch" href="/keith-book/assets/js/24.d65bce25.js"><link rel="prefetch" href="/keith-book/assets/js/25.b2d0686f.js"><link rel="prefetch" href="/keith-book/assets/js/26.fdc5f5b5.js"><link rel="prefetch" href="/keith-book/assets/js/27.8bb47b1d.js"><link rel="prefetch" href="/keith-book/assets/js/28.e087e2b0.js"><link rel="prefetch" href="/keith-book/assets/js/29.4306565c.js"><link rel="prefetch" href="/keith-book/assets/js/3.83866d44.js"><link rel="prefetch" href="/keith-book/assets/js/30.92b9c15a.js"><link rel="prefetch" href="/keith-book/assets/js/31.a231c5d0.js"><link rel="prefetch" href="/keith-book/assets/js/32.30b3c540.js"><link rel="prefetch" href="/keith-book/assets/js/33.d4ae83e5.js"><link rel="prefetch" href="/keith-book/assets/js/34.2d831459.js"><link rel="prefetch" href="/keith-book/assets/js/35.fd638673.js"><link rel="prefetch" href="/keith-book/assets/js/36.a936bf23.js"><link rel="prefetch" href="/keith-book/assets/js/37.f0a03b08.js"><link rel="prefetch" href="/keith-book/assets/js/38.635b6ac3.js"><link rel="prefetch" href="/keith-book/assets/js/39.dc3d7a09.js"><link rel="prefetch" href="/keith-book/assets/js/4.e2dc8d0c.js"><link rel="prefetch" href="/keith-book/assets/js/40.06264354.js"><link rel="prefetch" href="/keith-book/assets/js/41.a5492cc2.js"><link rel="prefetch" href="/keith-book/assets/js/42.be57bef1.js"><link rel="prefetch" href="/keith-book/assets/js/43.88a27c79.js"><link rel="prefetch" href="/keith-book/assets/js/44.c4499e0a.js"><link rel="prefetch" href="/keith-book/assets/js/45.bc3d4bb0.js"><link rel="prefetch" href="/keith-book/assets/js/46.77fe74ff.js"><link rel="prefetch" href="/keith-book/assets/js/47.a6d9e6fb.js"><link rel="prefetch" href="/keith-book/assets/js/48.aef4698e.js"><link rel="prefetch" href="/keith-book/assets/js/49.a0d6928f.js"><link rel="prefetch" href="/keith-book/assets/js/5.281837e2.js"><link rel="prefetch" href="/keith-book/assets/js/50.97367378.js"><link rel="prefetch" href="/keith-book/assets/js/51.5aa97e63.js"><link rel="prefetch" href="/keith-book/assets/js/52.c8645f8c.js"><link rel="prefetch" href="/keith-book/assets/js/53.ddb048d3.js"><link rel="prefetch" href="/keith-book/assets/js/54.4b3240ad.js"><link rel="prefetch" href="/keith-book/assets/js/55.906f19b3.js"><link rel="prefetch" href="/keith-book/assets/js/56.ab84e214.js"><link rel="prefetch" href="/keith-book/assets/js/57.4b0773ba.js"><link rel="prefetch" href="/keith-book/assets/js/58.ba67fb3c.js"><link rel="prefetch" href="/keith-book/assets/js/59.c70cec7d.js"><link rel="prefetch" href="/keith-book/assets/js/6.a3b769ae.js"><link rel="prefetch" href="/keith-book/assets/js/60.328ff957.js"><link rel="prefetch" href="/keith-book/assets/js/61.821c95c9.js"><link rel="prefetch" href="/keith-book/assets/js/62.a8706fa5.js"><link rel="prefetch" href="/keith-book/assets/js/63.7893739a.js"><link rel="prefetch" href="/keith-book/assets/js/64.e0e82da5.js"><link rel="prefetch" href="/keith-book/assets/js/65.c8630545.js"><link rel="prefetch" href="/keith-book/assets/js/66.71acb88b.js"><link rel="prefetch" href="/keith-book/assets/js/67.1d69d8ae.js"><link rel="prefetch" href="/keith-book/assets/js/68.cbcd16b5.js"><link rel="prefetch" href="/keith-book/assets/js/69.7ad720f1.js"><link rel="prefetch" href="/keith-book/assets/js/7.4d8a2bf7.js"><link rel="prefetch" href="/keith-book/assets/js/70.94b0ffc1.js"><link rel="prefetch" href="/keith-book/assets/js/71.f82c5f63.js"><link rel="prefetch" href="/keith-book/assets/js/72.bc8c9c4e.js"><link rel="prefetch" href="/keith-book/assets/js/73.0705a1c5.js"><link rel="prefetch" href="/keith-book/assets/js/74.5f096bb0.js"><link rel="prefetch" href="/keith-book/assets/js/75.3f8747a5.js"><link rel="prefetch" href="/keith-book/assets/js/76.651eb39a.js"><link rel="prefetch" href="/keith-book/assets/js/77.f999879e.js"><link rel="prefetch" href="/keith-book/assets/js/78.61f7757f.js"><link rel="prefetch" href="/keith-book/assets/js/79.8bd2dd06.js"><link rel="prefetch" href="/keith-book/assets/js/8.d352d476.js"><link rel="prefetch" href="/keith-book/assets/js/80.b123974d.js"><link rel="prefetch" href="/keith-book/assets/js/81.2009dcf1.js"><link rel="prefetch" href="/keith-book/assets/js/82.29cd7333.js"><link rel="prefetch" href="/keith-book/assets/js/83.936db179.js"><link rel="prefetch" href="/keith-book/assets/js/84.bc885c59.js"><link rel="prefetch" href="/keith-book/assets/js/85.d4e8c66d.js"><link rel="prefetch" href="/keith-book/assets/js/86.7cc46a2b.js"><link rel="prefetch" href="/keith-book/assets/js/87.2c8ce44d.js"><link rel="prefetch" href="/keith-book/assets/js/88.bb2c361f.js"><link rel="prefetch" href="/keith-book/assets/js/9.29357314.js"><link rel="prefetch" href="/keith-book/assets/js/90.aa69ffbe.js"><link rel="prefetch" href="/keith-book/assets/js/91.a8944021.js"><link rel="prefetch" href="/keith-book/assets/js/92.cd8a456d.js"><link rel="prefetch" href="/keith-book/assets/js/93.0b16e3c6.js"><link rel="prefetch" href="/keith-book/assets/js/94.d8822045.js"><link rel="prefetch" href="/keith-book/assets/js/95.fa963ca4.js"><link rel="prefetch" href="/keith-book/assets/js/96.c4728133.js"><link rel="prefetch" href="/keith-book/assets/js/97.f29d3516.js"><link rel="prefetch" href="/keith-book/assets/js/98.64cb768c.js"><link rel="prefetch" href="/keith-book/assets/js/99.7f8d1f38.js">
    <link rel="stylesheet" href="/keith-book/assets/css/0.styles.86c07c9d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/keith-book/" class="home-link router-link-active"><img src="/keith-book/favicon.ico" alt="鸿鹄笔记" class="logo"> <span class="site-name can-hide">鸿鹄笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/keith-book/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/keith-book/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/keith-book/Spring/" class="nav-link">
  Spring
</a></div><div class="nav-item"><a href="/keith-book/数据存储/" class="nav-link">
  数据存储
</a></div><div class="nav-item"><a href="/keith-book/设计模式/" class="nav-link">
  设计模式
</a></div><div class="nav-item"><a href="/keith-book/数据结构/" class="nav-link">
  数据结构
</a></div><div class="nav-item"><a href="/keith-book/服务器/" class="nav-link">
  服务器
</a></div><div class="nav-item"><a href="/keith-book/前端/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/keith-book/拓展/" class="nav-link">
  拓展
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/keith-book/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/keith-book/Java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/keith-book/Spring/" class="nav-link">
  Spring
</a></div><div class="nav-item"><a href="/keith-book/数据存储/" class="nav-link">
  数据存储
</a></div><div class="nav-item"><a href="/keith-book/设计模式/" class="nav-link">
  设计模式
</a></div><div class="nav-item"><a href="/keith-book/数据结构/" class="nav-link">
  数据结构
</a></div><div class="nav-item"><a href="/keith-book/服务器/" class="nav-link">
  服务器
</a></div><div class="nav-item"><a href="/keith-book/前端/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/keith-book/拓展/" class="nav-link">
  拓展
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/keith-book/服务器/Linux/" class="sidebar-heading clickable open"><span>Linux</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/keith-book/服务器/Linux/1.Linux常用命令.html" class="sidebar-link">Linux常用命令</a></li><li><a href="/keith-book/服务器/Linux/2.IO模型.html" class="sidebar-link">IO模型</a></li><li><a href="/keith-book/服务器/Linux/3.Shell.html" class="active sidebar-link">Shell</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/keith-book/服务器/Linux/3.Shell.html#shell-hello-world" class="sidebar-link">Shell Hello World</a></li><li class="sidebar-sub-header"><a href="/keith-book/服务器/Linux/3.Shell.html#shell-变量" class="sidebar-link">Shell 变量</a></li><li class="sidebar-sub-header"><a href="/keith-book/服务器/Linux/3.Shell.html#shell-字符串" class="sidebar-link">Shell 字符串</a></li><li class="sidebar-sub-header"><a href="/keith-book/服务器/Linux/3.Shell.html#shell-数组" class="sidebar-link">Shell 数组</a></li><li class="sidebar-sub-header"><a href="/keith-book/服务器/Linux/3.Shell.html#shell-注释" class="sidebar-link">Shell 注释</a></li><li class="sidebar-sub-header"><a href="/keith-book/服务器/Linux/3.Shell.html#shell-传递参数" class="sidebar-link">Shell 传递参数</a></li><li class="sidebar-sub-header"><a href="/keith-book/服务器/Linux/3.Shell.html#shell-基本运算符" class="sidebar-link">Shell 基本运算符</a></li><li class="sidebar-sub-header"><a href="/keith-book/服务器/Linux/3.Shell.html#shell-流程控制" class="sidebar-link">Shell 流程控制</a></li><li class="sidebar-sub-header"><a href="/keith-book/服务器/Linux/3.Shell.html#shell-函数" class="sidebar-link">Shell 函数</a></li><li class="sidebar-sub-header"><a href="/keith-book/服务器/Linux/3.Shell.html#shell-输入输出重定向" class="sidebar-link">Shell 输入输出重定向</a></li></ul></li><li><a href="/keith-book/服务器/Linux/4.Tomcat.html" class="sidebar-link">Tomcat</a></li><li><a href="/keith-book/服务器/Linux/5.Netty.html" class="sidebar-link">Netty</a></li><li><a href="/keith-book/服务器/Linux/6.Openresty.html" class="sidebar-link">Openresty</a></li><li><a href="/keith-book/服务器/Linux/7.FastDFS.html" class="sidebar-link">FastDFS</a></li><li><a href="/keith-book/服务器/Linux/8.Linux安装Redis.html" class="sidebar-link">Linux 安装 Redis</a></li><li><a href="/keith-book/服务器/Linux/99.附录.html" class="sidebar-link">附录</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/keith-book/服务器/Docker/" class="sidebar-heading clickable"><span>Docker</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/keith-book/服务器/Docker/1.Docker基本操作.html" class="sidebar-link">Docker基本操作</a></li><li><a href="/keith-book/服务器/Docker/2.Docker安装Redis.html" class="sidebar-link">Docker安装Redis</a></li><li><a href="/keith-book/服务器/Docker/3.Docker安装Nginx.html" class="sidebar-link">Docker安装Nginx</a></li><li><a href="/keith-book/服务器/Docker/4.Docker安装Mysql.html" class="sidebar-link">Docker安装Mysql</a></li><li><a href="/keith-book/服务器/Docker/5.Docker安装Jenkins.html" class="sidebar-link">Docker安装Jenkins</a></li><li><a href="/keith-book/服务器/Docker/6.Docker安装RabbitMq.html" class="sidebar-link">Docker安装RabbitMq</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/keith-book/服务器/分布式/" class="sidebar-heading clickable"><span>分布式</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/keith-book/服务器/分布式/1.分布式锁.html" class="sidebar-link">分布式锁</a></li><li><a href="/keith-book/服务器/分布式/2.分布式事务.html" class="sidebar-link">分布式事务</a></li><li><a href="/keith-book/服务器/分布式/3.Zookeeper.html" class="sidebar-link">Zookeeper</a></li><li><a href="/keith-book/服务器/分布式/4.Dubbo.html" class="sidebar-link">Dubbo</a></li><li><a href="/keith-book/服务器/分布式/99.附录.html" class="sidebar-link">附录</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="shell"><a href="#shell" class="header-anchor">#</a> Shell</h1> <h2 id="shell-hello-world"><a href="#shell-hello-world" class="header-anchor">#</a> Shell Hello World</h2> <p>新建 <code>test.sh</code></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello World !&quot;</span>
</code></pre></div><p>执行文件</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">chmod</span> +x ./test.sh  <span class="token comment">#使脚本具有执行权限</span>
./test.sh  <span class="token comment">#执行脚本</span>
/bin/sh test.sh
</code></pre></div><h2 id="shell-变量"><a href="#shell-变量" class="header-anchor">#</a> Shell 变量</h2> <p><strong>定义变量</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;runoob.com&quot;</span>
</code></pre></div><p>变量名命名规则</p> <ul><li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li> <li>中间不能有空格，可以使用下划线（_）。</li> <li>不能使用标点符号。</li> <li>不能使用bash里的关键字（可用help命令查看保留关键字）。</li></ul> <p><strong>使用变量</strong></p> <p>使用一个定义过的变量，只要在变量名前面加美元符号即可，如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;qinjx&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$your_name</span>
<span class="token comment"># 花括号是可选的，推荐加上</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${your_name}</span>
</code></pre></div><p><strong>只读变量</strong></p> <p>使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">&quot;https://www.google.com&quot;</span>
<span class="token builtin class-name">readonly</span> myUrl
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">&quot;https://www.runoob.com&quot;</span>
</code></pre></div><p>尝试更改只读变量，结果报错：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>/bin/sh: NAME: This variable is <span class="token builtin class-name">read</span> only.
</code></pre></div><p><strong>删除变量</strong></p> <p>使用 unset 命令可以删除变量。</p> <p>变量被删除后不能再次使用，unset 命令不能删除只读变量。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">unset</span> variable_name
</code></pre></div><p><strong>变量类型</strong></p> <p>运行shell时，会同时存在三种变量：</p> <ol><li><p><strong>局部变量</strong>：局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</p></li> <li><p><strong>环境变量</strong>：所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</p></li> <li><p><strong>shell变量</strong>：shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</p></li></ol> <h2 id="shell-字符串"><a href="#shell-字符串" class="header-anchor">#</a> Shell 字符串</h2> <p>字符串可以用单引号，也可以用双引号，也可以不用引号</p> <p><strong>单引号</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">'this is a string'</span>
</code></pre></div><p>单引号字符串的限制：</p> <ul><li>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</li> <li>单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li></ul> <p><strong>双引号</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">'runoob'</span>
<span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">&quot;Hello, I know you are <span class="token entity" title="\&quot;">\&quot;</span><span class="token variable">$your_name</span><span class="token entity" title="\&quot;">\&quot;</span>! <span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token builtin class-name">echo</span> -e <span class="token variable">$str</span>
</code></pre></div><p>输出结果为：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Hello, I know you are <span class="token string">&quot;runoob&quot;</span><span class="token operator">!</span> 
</code></pre></div><p>双引号的优点：</p> <ul><li>双引号里可以有变量</li> <li>双引号里可以出现转义字符</li></ul> <p><strong>拼接字符串</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;runoob&quot;</span>
<span class="token comment"># 使用双引号拼接</span>
<span class="token assign-left variable">greeting</span><span class="token operator">=</span><span class="token string">&quot;hello, &quot;</span><span class="token variable">$your_name</span><span class="token string">&quot; !&quot;</span>
<span class="token assign-left variable">greeting_1</span><span class="token operator">=</span><span class="token string">&quot;hello, <span class="token variable">${your_name}</span> !&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$greeting</span>  <span class="token variable">$greeting_1</span>
<span class="token comment"># 使用单引号拼接</span>
<span class="token assign-left variable">greeting_2</span><span class="token operator">=</span><span class="token string">'hello, '</span><span class="token variable">$your_name</span><span class="token string">' !'</span>
<span class="token assign-left variable">greeting_3</span><span class="token operator">=</span><span class="token string">'hello, <span class="token variable">${your_name}</span> !'</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$greeting_2</span>  <span class="token variable">$greeting_3</span>
</code></pre></div><p>输出结果为：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>hello, runoob <span class="token operator">!</span> hello, runoob <span class="token operator">!</span>
hello, runoob <span class="token operator">!</span> hello, <span class="token variable">${your_name}</span> <span class="token operator">!</span>
</code></pre></div><p><strong>获取字符串长度</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;abcd&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>string}</span> <span class="token comment">#输出 4</span>
</code></pre></div><p><strong>提取子字符串</strong></p> <p>以下实例从字符串第 <strong>2</strong> 个字符开始截取 <strong>4</strong> 个字符：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;runoob is a great site&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${string<span class="token operator">:</span>1<span class="token operator">:</span>4}</span> <span class="token comment"># 输出 unoo</span>
</code></pre></div><p><strong>注意</strong>：第一个字符的索引值为 <strong>0</strong>。</p> <p><strong>查找子字符串</strong></p> <p>查找字符 <strong>i</strong> 或 <strong>o</strong> 的位置(哪个字母先出现就计算哪个)：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;runoob is a great site&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> index <span class="token string">&quot;<span class="token variable">$string</span>&quot;</span> io<span class="token variable">`</span></span>  <span class="token comment"># 输出 4</span>
</code></pre></div><p><strong>注意：</strong> 以上脚本中 <strong>`</strong> 是反引号，而不是单引号 <strong>'</strong>。</p> <h2 id="shell-数组"><a href="#shell-数组" class="header-anchor">#</a> Shell 数组</h2> <p>bash支持一维数组（不支持多维数组），并且没有限定数组的大小。</p> <p>类似于 C 语言，数组元素的下标由 0 开始编号。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于 0。</p> <p><strong>定义数组</strong></p> <p>在 Shell 中，用括号来表示数组，数组元素用&quot;空格&quot;符号分割开。定义数组的一般形式为：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>数组名<span class="token operator">=</span><span class="token punctuation">(</span>值1 值2 <span class="token punctuation">..</span>. 值n<span class="token punctuation">)</span>
</code></pre></div><p>例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">array_name</span><span class="token operator">=</span><span class="token punctuation">(</span>value0 value1 value2 value3<span class="token punctuation">)</span>
</code></pre></div><p>还可以单独定义数组的各个分量：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>array_name<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>value0
array_name<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>value1
array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">=</span>valuen
</code></pre></div><p>可以不使用连续的下标，而且下标的范围没有限制。</p> <p><strong>读取数组</strong></p> <p>读取数组元素值的一般格式是：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token variable">${数组名<span class="token punctuation">[</span>下标<span class="token punctuation">]</span>}</span>
</code></pre></div><p>例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">valuen</span><span class="token operator">=</span><span class="token variable">${array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span>}</span>
</code></pre></div><p>使用 <strong>@</strong> 符号可以获取数组中的所有元素，例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token variable">${array_name<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
</code></pre></div><p><strong>获取数组的长度</strong></p> <p>获取数组长度的方法与获取字符串长度的方法相同，例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 取得数组元素的个数</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>array_name<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
<span class="token comment"># 或者</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>array_name<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>
<span class="token comment"># 取得数组单个元素的长度</span>
<span class="token assign-left variable">lengthn</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span>}</span>
</code></pre></div><hr> <h2 id="shell-注释"><a href="#shell-注释" class="header-anchor">#</a> Shell 注释</h2> <p>以 <strong>#</strong> 开头的行就是注释，会被解释器忽略。</p> <p>通过每一行加一个 <strong>#</strong> 号设置多行注释，像这样：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#--------------------------------------------</span>
<span class="token comment"># 这是一个注释</span>
<span class="token comment">#--------------------------------------------</span>
<span class="token comment">##### 用户配置区 开始 #####</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
<span class="token comment"># 这里可以添加脚本描述信息</span>
<span class="token comment"># </span>
<span class="token comment">#</span>
<span class="token comment">##### 用户配置区 结束  #####</span>
</code></pre></div><p>如果在开发过程中，遇到大段的代码需要临时注释起来，过一会儿又取消注释，怎么办呢？</p> <p>每一行加个#符号太费力了，可以把这一段要注释的代码用一对花括号括起来，定义成一个函数，没有地方调用这个函数，这块代码就不会执行，达到了和注释一样的效果。</p> <p><strong>多行注释</strong></p> <p>多行注释还可以使用以下格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>:<span class="token operator">&lt;&lt;</span><span class="token string">EOF
注释内容...
注释内容...
注释内容...
EOF</span>
</code></pre></div><p>EOF 也可以使用其他符号:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>:<span class="token operator">&lt;&lt;</span><span class="token string">'
注释内容...
注释内容...
注释内容...
'</span>

:<span class="token operator">&lt;&lt;</span><span class="token operator">!</span>
注释内容<span class="token punctuation">..</span>.
注释内容<span class="token punctuation">..</span>.
注释内容<span class="token punctuation">..</span>.
<span class="token operator">!</span>
</code></pre></div><h2 id="shell-传递参数"><a href="#shell-传递参数" class="header-anchor">#</a> Shell 传递参数</h2> <p>我们可以在执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：<strong>$n</strong>。<strong>n</strong> 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推……</p> <p>以下实例我们向脚本传递三个参数，并分别输出，其中 <strong>$0</strong> 为执行的文件名（包含文件路径）：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Shell 传递参数实例！&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;执行的文件名：<span class="token variable">$0</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个参数为：<span class="token variable">$1</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第二个参数为：<span class="token variable">$2</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第三个参数为：<span class="token variable">$3</span>&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>为脚本设置可执行权限，并执行脚本，输出结果如下所示：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">chmod</span> +x test.sh 
$ ./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
Shell 传递参数实例！
执行的文件名：./test.sh
第一个参数为：1
第二个参数为：2
第三个参数为：3
</code></pre></div><p>另外，还有几个特殊字符用来处理参数：</p> <table><thead><tr><th style="text-align:left;">参数处理</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">$#</td> <td style="text-align:left;">传递到脚本的参数个数</td></tr> <tr><td style="text-align:left;">$*</td> <td style="text-align:left;">以一个单字符串显示所有向脚本传递的参数。 如&quot;$*&quot;用「&quot;」括起来的情况、以&quot;$1 $2 … $n&quot;的形式输出所有参数。</td></tr> <tr><td style="text-align:left;">$$</td> <td style="text-align:left;">脚本运行的当前进程ID号</td></tr> <tr><td style="text-align:left;">$!</td> <td style="text-align:left;">后台运行的最后一个进程的ID号</td></tr> <tr><td style="text-align:left;">$@</td> <td style="text-align:left;">与$*相同，但是使用时加引号，并在引号中返回每个参数。 如&quot;$@&quot;用「&quot;」括起来的情况、以&quot;$1&quot; &quot;$2&quot; … &quot;$n&quot; 的形式输出所有参数。</td></tr> <tr><td style="text-align:left;">$-</td> <td style="text-align:left;">显示Shell使用的当前选项，与<a href="https://www.runoob.com/linux/linux-comm-set.html" target="_blank" rel="noopener noreferrer">set命令<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>功能相同。</td></tr> <tr><td style="text-align:left;">$?</td> <td style="text-align:left;">显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Shell 传递参数实例！&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个参数为：<span class="token variable">$1</span>&quot;</span><span class="token punctuation">;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数个数为：<span class="token variable">$#</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;传递的参数作为一个字符串显示：<span class="token variable">$*</span>&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">chmod</span> +x test.sh 
$ ./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
Shell 传递参数实例！
第一个参数为：1
参数个数为：3
传递的参数作为一个字符串显示：1 <span class="token number">2</span> <span class="token number">3</span>
</code></pre></div><p>$* 与 $@ 区别：</p> <ul><li>相同点：都是引用所有参数。</li> <li>不同点：只有在双引号中体现出来。假设在脚本运行时写了三个参数 1、2、3，，则 &quot; * &quot; 等价于 &quot;1 2 3&quot;（传递了一个参数），而 &quot;@&quot; 等价于 &quot;1&quot; &quot;2&quot; &quot;3&quot;（传递了三个参数）。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-- \<span class="token variable">$*</span> 演示 ---&quot;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-- \<span class="token variable">$@</span> 演示 ---&quot;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">chmod</span> +x test.sh 
$ ./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
-- <span class="token variable">$*</span> 演示 ---
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
-- <span class="token variable">$@</span> 演示 ---
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
</code></pre></div><h2 id="shell-基本运算符"><a href="#shell-基本运算符" class="header-anchor">#</a> Shell 基本运算符</h2> <p>Shell 和其他编程语言一样，支持多种运算符，包括：</p> <ul><li>算数运算符</li> <li>关系运算符</li> <li>布尔运算符</li> <li>字符串运算符</li> <li>文件测试运算符</li></ul> <p>原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。</p> <p>expr 是一款表达式计算工具，使用它能完成表达式的求值操作。</p> <p><strong>两个数相加（注意使用的是反引号）</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">2</span> + <span class="token number">2</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;两数之和为 : <span class="token variable">$val</span>&quot;</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>两数之和为 : 4
</code></pre></div><p>两点注意：</p> <ul><li>表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。</li> <li>完整的表达式要被 <strong><code></code></strong> 包含，注意这个字符不是常用的单引号，在 Esc 键下边。</li></ul> <h3 id="算术运算符"><a href="#算术运算符" class="header-anchor">#</a> 算术运算符</h3> <p>下表列出了常用的算术运算符，假定变量 a 为 10，变量 b 为 20：</p> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">+</td> <td style="text-align:left;">加法</td> <td style="text-align:left;"><code>expr $a + $b</code> 结果为 30。</td></tr> <tr><td style="text-align:left;">-</td> <td style="text-align:left;">减法</td> <td style="text-align:left;"><code>expr $a - $b</code> 结果为 -10。</td></tr> <tr><td style="text-align:left;">*</td> <td style="text-align:left;">乘法</td> <td style="text-align:left;"><code>expr $a \* $b</code> 结果为  200。</td></tr> <tr><td style="text-align:left;">/</td> <td style="text-align:left;">除法</td> <td style="text-align:left;"><code>expr $b / $a</code> 结果为 2。</td></tr> <tr><td style="text-align:left;">%</td> <td style="text-align:left;">取余</td> <td style="text-align:left;"><code>expr $b % $a</code> 结果为 0。</td></tr> <tr><td style="text-align:left;">=</td> <td style="text-align:left;">赋值</td> <td style="text-align:left;">a=$b 将把变量 b 的值赋给 a。</td></tr> <tr><td style="text-align:left;">==</td> <td style="text-align:left;">相等。用于比较两个数字，相同则返回 true。</td> <td style="text-align:left;">[ $a == $b ] 返回 false。</td></tr> <tr><td style="text-align:left;">!=</td> <td style="text-align:left;">不相等。用于比较两个数字，不相同则返回 true。</td> <td style="text-align:left;">[ $a != $b ] 返回 true。</td></tr></tbody></table> <p>**注意：**条件表达式要放在方括号之间，并且要有空格，例如: <strong>[$a==$b]</strong> 是错误的，必须写成 <strong>[ $a == $b ]</strong>。</p> <p><strong>实例</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a + b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a - $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a - b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a <span class="token punctuation">\</span>* $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a * b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $b / $a<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;b / a : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $b % $a<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;b % a : <span class="token variable">$val</span>&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 不等于 b&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>a + b : 30
a - b : -10
a * b : 200
b / a : 2
b % a : 0
a 不等于 b
</code></pre></div><blockquote><p><strong>注意：</strong></p> <ul><li>乘号(*)前边必须加反斜杠()才能实现乘法运算；</li> <li>if...then...fi 是条件语句</li> <li>在 MAC 中 shell 的 expr 语法是：<strong>$((表达式))</strong>，此处表达式中的 &quot;*&quot; 不需要转义符号 &quot;&quot; 。</li></ul></blockquote> <hr> <h3 id="关系运算符"><a href="#关系运算符" class="header-anchor">#</a> 关系运算符</h3> <p>关系运算符只支持数字，不支持字符串，除非字符串的值是数字。</p> <p>下表列出了常用的关系运算符，假定变量 a 为 10，变量 b 为 20：</p> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">-eq</td> <td style="text-align:left;">检测两个数是否相等，相等返回 true。</td> <td style="text-align:left;">[ $a -eq $b ] 返回 false。</td></tr> <tr><td style="text-align:left;">-ne</td> <td style="text-align:left;">检测两个数是否不相等，不相等返回 true。</td> <td style="text-align:left;">[ $a -ne $b ] 返回 true。</td></tr> <tr><td style="text-align:left;">-gt</td> <td style="text-align:left;">检测左边的数是否大于右边的，如果是，则返回 true。</td> <td style="text-align:left;">[ $a -gt $b ] 返回 false。</td></tr> <tr><td style="text-align:left;">-lt</td> <td style="text-align:left;">检测左边的数是否小于右边的，如果是，则返回 true。</td> <td style="text-align:left;">[ $a -lt $b ] 返回 true。</td></tr> <tr><td style="text-align:left;">-ge</td> <td style="text-align:left;">检测左边的数是否大于等于右边的，如果是，则返回 true。</td> <td style="text-align:left;">[ $a -ge $b ] 返回 false。</td></tr> <tr><td style="text-align:left;">-le</td> <td style="text-align:left;">检测左边的数是否小于等于右边的，如果是，则返回 true。</td> <td style="text-align:left;">[ $a -le $b ] 返回 true。</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -eq <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -eq <span class="token variable">$b</span> : a 等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -eq <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -ne <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ne <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ne <span class="token variable">$b</span> : a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -gt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -gt <span class="token variable">$b</span>: a 大于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -gt <span class="token variable">$b</span>: a 不大于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -lt <span class="token variable">$b</span>: a 小于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -lt <span class="token variable">$b</span>: a 不小于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -ge <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ge <span class="token variable">$b</span>: a 大于或等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ge <span class="token variable">$b</span>: a 小于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -le <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -le <span class="token variable">$b</span>: a 小于或等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -le <span class="token variable">$b</span>: a 大于 b&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">10</span> -eq <span class="token number">20</span>: a 不等于 b
<span class="token number">10</span> -ne <span class="token number">20</span>: a 不等于 b
<span class="token number">10</span> -gt <span class="token number">20</span>: a 不大于 b
<span class="token number">10</span> -lt <span class="token number">20</span>: a 小于 b
<span class="token number">10</span> -ge <span class="token number">20</span>: a 小于 b
<span class="token number">10</span> -le <span class="token number">20</span>: a 小于等于 b
</code></pre></div><h3 id="布尔运算符"><a href="#布尔运算符" class="header-anchor">#</a> 布尔运算符</h3> <p>下表列出了常用的布尔运算符，假定变量 a 为 10，变量 b 为 20：</p> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">!</td> <td style="text-align:left;">非运算，表达式为 true 则返回 false，否则返回 true。</td> <td style="text-align:left;">[ ! false ] 返回 true。</td></tr> <tr><td style="text-align:left;">-o</td> <td style="text-align:left;">或运算，有一个表达式为 true 则返回 true。</td> <td style="text-align:left;">[ $a -lt 20 -o $b -gt 100 ] 返回 true。</td></tr> <tr><td style="text-align:left;">-a</td> <td style="text-align:left;">与运算，两个表达式都为 true 才返回 true。</td> <td style="text-align:left;">[ $a -lt 20 -a $b -gt 100 ] 返回 false。</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> != <span class="token variable">$b</span> : a 不等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> == <span class="token variable">$b</span>: a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> -a <span class="token variable">$b</span> -gt <span class="token number">15</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 且 <span class="token variable">$b</span> 大于 15 : 返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 且 <span class="token variable">$b</span> 大于 15 : 返回 false&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> -o <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 或 <span class="token variable">$b</span> 大于 100 : 返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 或 <span class="token variable">$b</span> 大于 100 : 返回 false&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">5</span> -o <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 5 或 <span class="token variable">$b</span> 大于 100 : 返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 5 或 <span class="token variable">$b</span> 大于 100 : 返回 false&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>10 != 20 : a 不等于 b
10 小于 100 且 20 大于 15 : 返回 true
10 小于 100 或 20 大于 100 : 返回 true
10 小于 5 或 20 大于 100 : 返回 false
</code></pre></div><h3 id="逻辑运算符"><a href="#逻辑运算符" class="header-anchor">#</a> 逻辑运算符</h3> <p>以下介绍 Shell 的逻辑运算符，假定变量 a 为 10，变量 b 为 20:</p> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">&amp;&amp;</td> <td style="text-align:left;">逻辑的 AND</td> <td style="text-align:left;">[[ $a -lt 100 &amp;&amp; $b -gt 100 ]] 返回 false</td></tr> <tr><td style="text-align:left;">||</td> <td style="text-align:left;">逻辑的 OR</td> <td style="text-align:left;">[[ $a -lt 100 || $b -gt 100 ]] 返回 true</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 false&quot;</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> <span class="token operator">||</span> <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 false&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>返回 false
返回 true
</code></pre></div><h3 id="字符串运算符"><a href="#字符串运算符" class="header-anchor">#</a> 字符串运算符</h3> <p>下表列出了常用的字符串运算符，假定变量 a 为 &quot;abc&quot;，变量 b 为 &quot;efg&quot;：</p> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">=</td> <td style="text-align:left;">检测两个字符串是否相等，相等返回 true。</td> <td style="text-align:left;">[ $a = $b ] 返回 false。</td></tr> <tr><td style="text-align:left;">!=</td> <td style="text-align:left;">检测两个字符串是否不相等，不相等返回 true。</td> <td style="text-align:left;">[ $a != $b ] 返回 true。</td></tr> <tr><td style="text-align:left;">-z</td> <td style="text-align:left;">检测字符串长度是否为0，为0返回 true。</td> <td style="text-align:left;">[ -z $a ] 返回 false。</td></tr> <tr><td style="text-align:left;">-n</td> <td style="text-align:left;">检测字符串长度是否不为 0，不为 0 返回 true。</td> <td style="text-align:left;">[ -n &quot;$a&quot; ] 返回 true。</td></tr> <tr><td style="text-align:left;">$</td> <td style="text-align:left;">检测字符串是否为空，不为空返回 true。</td> <td style="text-align:left;">[ $a ] 返回 true。</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token string">&quot;abc&quot;</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token string">&quot;efg&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> = <span class="token variable">$b</span> : a 等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> = <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> != <span class="token variable">$b</span> : a 不等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> != <span class="token variable">$b</span>: a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -z <span class="token variable">$a</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-z <span class="token variable">$a</span> : 字符串长度为 0&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-z <span class="token variable">$a</span> : 字符串长度不为 0&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$a</span>&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-n <span class="token variable">$a</span> : 字符串长度不为 0&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-n <span class="token variable">$a</span> : 字符串长度为 0&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> : 字符串不为空&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> : 字符串为空&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>abc = efg: a 不等于 b
abc != efg : a 不等于 b
-z abc : 字符串长度不为 0
-n abc : 字符串长度不为 0
abc : 字符串不为空
</code></pre></div><h3 id="文件测试运算符"><a href="#文件测试运算符" class="header-anchor">#</a> 文件测试运算符</h3> <p>文件测试运算符用于检测 Unix 文件的各种属性。</p> <p>属性检测描述如下：</p> <table><thead><tr><th style="text-align:left;">操作符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">-b file</td> <td style="text-align:left;">检测文件是否是块设备文件，如果是，则返回 true。</td> <td style="text-align:left;">[ -b $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-c file</td> <td style="text-align:left;">检测文件是否是字符设备文件，如果是，则返回 true。</td> <td style="text-align:left;">[ -c $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-d file</td> <td style="text-align:left;">检测文件是否是目录，如果是，则返回 true。</td> <td style="text-align:left;">[ -d $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-f file</td> <td style="text-align:left;">检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。</td> <td style="text-align:left;">[ -f $file ] 返回 true。</td></tr> <tr><td style="text-align:left;">-g file</td> <td style="text-align:left;">检测文件是否设置了 SGID 位，如果是，则返回 true。</td> <td style="text-align:left;">[ -g $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-k file</td> <td style="text-align:left;">检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。</td> <td style="text-align:left;">[ -k $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-p file</td> <td style="text-align:left;">检测文件是否是有名管道，如果是，则返回 true。</td> <td style="text-align:left;">[ -p $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-u file</td> <td style="text-align:left;">检测文件是否设置了 SUID 位，如果是，则返回 true。</td> <td style="text-align:left;">[ -u $file ] 返回 false。</td></tr> <tr><td style="text-align:left;">-r file</td> <td style="text-align:left;">检测文件是否可读，如果是，则返回 true。</td> <td style="text-align:left;">[ -r $file ] 返回 true。</td></tr> <tr><td style="text-align:left;">-w file</td> <td style="text-align:left;">检测文件是否可写，如果是，则返回 true。</td> <td style="text-align:left;">[ -w $file ] 返回 true。</td></tr> <tr><td style="text-align:left;">-x file</td> <td style="text-align:left;">检测文件是否可执行，如果是，则返回 true。</td> <td style="text-align:left;">[ -x $file ] 返回 true。</td></tr> <tr><td style="text-align:left;">-s file</td> <td style="text-align:left;">检测文件是否为空（文件大小是否大于0），不为空返回 true。</td> <td style="text-align:left;">[ -s $file ] 返回 true。</td></tr> <tr><td style="text-align:left;">-e file</td> <td style="text-align:left;">检测文件（包括目录）是否存在，如果是，则返回 true。</td> <td style="text-align:left;">[ -e $file ] 返回 true。</td></tr></tbody></table> <p>其他检查符：</p> <ul><li><strong>-S</strong>: 判断某文件是否 socket。</li> <li><strong>-L</strong>: 检测文件是否存在并且是一个符号链接。</li></ul> <p>变量 file 表示文件 <strong>/var/www/runoob/test.sh</strong>，它的大小为 100 字节，具有 <strong>rwx</strong> 权限。下面的代码，将检测该文件的各种属性：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token string">&quot;/var/www/runoob/test.sh&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -r <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可读&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可读&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -w <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可写&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可写&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -x <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可执行&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可执行&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -f <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为普通文件&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为特殊文件&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -d <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件是个目录&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不是个目录&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -s <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不为空&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为空&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -e <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件存在&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不存在&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>文件可读
文件可写
文件可执行
文件为普通文件
文件不是个目录
文件不为空
文件存在
</code></pre></div><h2 id="shell-流程控制"><a href="#shell-流程控制" class="header-anchor">#</a> Shell 流程控制</h2> <p><strong>if else-if else</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 等于 b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -gt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 大于 b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 小于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有符合的条件&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p><strong>for</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">str</span> <span class="token keyword">in</span> This is a string
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$str</span>
<span class="token keyword">done</span>
</code></pre></div><p><strong>while</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">int</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">while</span><span class="token variable"><span class="token punctuation">((</span> $int<span class="token operator">&lt;=</span><span class="token number">5</span> <span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$int</span>
    <span class="token builtin class-name">let</span> <span class="token string">&quot;int++&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">echo</span> <span class="token string">'按下 &lt;CTRL-D&gt; 退出'</span>
<span class="token builtin class-name">echo</span> -n <span class="token string">'输入你最喜欢的网站名: '</span>
<span class="token keyword">while</span> <span class="token builtin class-name">read</span> FILM
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;是的！<span class="token variable">$FILM</span> 是一个好网站&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><p><strong>case</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">echo</span> <span class="token string">'输入 1 到 4 之间的数字:'</span>
<span class="token builtin class-name">echo</span> <span class="token string">'你输入的数字为:'</span>
<span class="token builtin class-name">read</span> aNum
<span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
    <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 1'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 2'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 3'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 4'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你没有输入 1 到 4 之间的数字'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><h2 id="shell-函数"><a href="#shell-函数" class="header-anchor">#</a> Shell 函数</h2> <p><strong>定义和执行一个函数</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token function-name function">demoFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这是我的第一个 shell 函数!&quot;</span>
<span class="token punctuation">}</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----函数开始执行-----&quot;</span>
demoFun
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----函数执行完毕-----&quot;</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>-----函数开始执行-----
这是我的第一个 shell 函数!
-----函数执行完毕-----
</code></pre></div><p><strong>带有 return 的函数</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function-name function">funWithReturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这个函数会对输入的两个数字进行相加运算...&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;输入第一个数字: &quot;</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;输入第二个数字: &quot;</span>
    <span class="token builtin class-name">read</span> anotherNum
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;两个数字分别为 <span class="token variable">$aNum</span> 和 <span class="token variable">$anotherNum</span> !&quot;</span>
    <span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">$((</span>$aNum<span class="token operator">+</span>$anotherNum<span class="token variable">))</span></span>
<span class="token punctuation">}</span>
funWithReturn
<span class="token builtin class-name">echo</span> <span class="token string">&quot;输入的两个数字之和为 <span class="token variable">$?</span> !&quot;</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code>这个函数会对输入的两个数字进行相加运算<span class="token punctuation">..</span>.
输入第一个数字: 
<span class="token number">1</span>
输入第二个数字: 
<span class="token number">2</span>
两个数字分别为 <span class="token number">1</span> 和 <span class="token number">2</span> <span class="token operator">!</span>
输入的两个数字之和为 <span class="token number">3</span> <span class="token operator">!</span>
</code></pre></div><p><strong>函数参数</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token function-name function">funWithParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个参数为 <span class="token variable">$1</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第二个参数为 <span class="token variable">$2</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第十个参数为 <span class="token variable">$10</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第十个参数为 <span class="token variable">${10}</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第十一个参数为 <span class="token variable">${11}</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;参数总数有 <span class="token variable">$#</span> 个!&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;作为一个字符串输出所有参数 <span class="token variable">$*</span> !&quot;</span>
<span class="token punctuation">}</span>
funWithParam <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">34</span> <span class="token number">73</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>第一个参数为 1 !
第二个参数为 2 !
第十个参数为 10 !
第十个参数为 34 !
第十一个参数为 73 !
参数总数有 11 个!
作为一个字符串输出所有参数 1 2 3 4 5 6 7 8 9 34 73 !
</code></pre></div><h2 id="shell-输入输出重定向"><a href="#shell-输入输出重定向" class="header-anchor">#</a> Shell 输入输出重定向</h2> <table><thead><tr><th style="text-align:left;">命令</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">command &gt; file</td> <td style="text-align:left;">将输出重定向到 file。</td></tr> <tr><td style="text-align:left;">command &lt; file</td> <td style="text-align:left;">将输入重定向到 file。</td></tr> <tr><td style="text-align:left;">command &gt;&gt; file</td> <td style="text-align:left;">将输出以追加的方式重定向到 file。</td></tr> <tr><td style="text-align:left;">n &gt; file</td> <td style="text-align:left;">将文件描述符为 n 的文件重定向到 file。</td></tr> <tr><td style="text-align:left;">n &gt;&gt; file</td> <td style="text-align:left;">将文件描述符为 n 的文件以追加的方式重定向到 file。</td></tr> <tr><td style="text-align:left;">n &gt;&amp; m</td> <td style="text-align:left;">将输出文件 m 和 n 合并。</td></tr> <tr><td style="text-align:left;">n &lt;&amp; m</td> <td style="text-align:left;">将输入文件 m 和 n 合并。</td></tr> <tr><td style="text-align:left;">&lt;&lt; tag</td> <td style="text-align:left;">将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td></tr></tbody></table> <h3 id="输出重定向"><a href="#输出重定向" class="header-anchor">#</a> 输出重定向</h3> <p>输出重定向会覆盖文件内容</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello World&quot;</span> <span class="token operator">&gt;</span> hello
<span class="token function">cat</span> hello

Hello World
</code></pre></div><p>输出重定向可追加到文件末尾</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;Tom&quot;</span> <span class="token operator">&gt;&gt;</span> hello
<span class="token function">cat</span> hello

Hello World
Tom
</code></pre></div><p>错误信息也输出到文件中</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cat</span> b.txt <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> demo.txt
<span class="token function">cat</span> demo.txt

cat: b.txt: No such <span class="token function">file</span> or directory
</code></pre></div><p>将标准输出和标准错误合并后重定向到 log.txt</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cat</span> <span class="token number">1</span>.txt <span class="token operator">&gt;</span> log.txt <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre></div><h3 id="输入重定向"><a href="#输入重定向" class="header-anchor">#</a> 输入重定向</h3> <p>统计 hello 文件的字符数</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">wc</span> -m hello
<span class="token comment"># 输出结果:</span>
<span class="token number">16</span> hello

<span class="token function">wc</span> -m <span class="token operator">&lt;</span> hello
<span class="token comment"># 输出结果:</span>
<span class="token number">16</span>
</code></pre></div><p>将 hello 文件中的内容输出给 hello2</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cat</span> <span class="token operator">&lt;</span> hello <span class="token operator">&gt;</span> hello2
<span class="token function">cat</span> hello2

<span class="token comment"># 输出结果:</span>
Hello World
Tom
</code></pre></div><p>将开始标记 tag 和结束标记 tag 之间的内容作为输入</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token function">dd</span>
<span class="token operator">&gt;</span> <span class="token number">123</span>
<span class="token operator">&gt;</span> <span class="token number">456</span>
<span class="token operator">&gt;</span> <span class="token function">dd</span>

<span class="token comment"># 输出结果</span>
<span class="token number">123</span>
<span class="token number">456</span>
</code></pre></div><h3 id="重定向深入讲解"><a href="#重定向深入讲解" class="header-anchor">#</a> 重定向深入讲解</h3> <p>linux标准输入设备指的是键盘，标准输出设备指的是显示器，标准错误输出指的是显示器。</p> <table><thead><tr><th>设备</th> <th>设备名</th> <th>文件描述符</th> <th>类型</th></tr></thead> <tbody><tr><td>键盘</td> <td>/dev/stdin</td> <td>0</td> <td>标准输入</td></tr> <tr><td>显示器</td> <td>/dev/stdout</td> <td>1</td> <td>标准输出</td></tr> <tr><td>显示器</td> <td>/dev/stderr</td> <td>2</td> <td>标准错误输出</td></tr></tbody></table></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/9/2021, 1:49:29 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/keith-book/服务器/Linux/2.IO模型.html" class="prev">
        IO模型
      </a></span> <span class="next"><a href="/keith-book/服务器/Linux/4.Tomcat.html">
        Tomcat
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/keith-book/assets/js/app.7ae60ab7.js" defer></script><script src="/keith-book/assets/js/2.044773f5.js" defer></script><script src="/keith-book/assets/js/89.9a1ee5e4.js" defer></script>
  </body>
</html>
